
(stories/account_operations.story)
Meta:
@financial 

Narrative:
As a user
I want to be able to withdraw and debit into an account
So that I can be in control of my money
Scenario: withdrawing money
Examples:
Given account has balance [current-balance]
When I withdraw [amount-withdrawn]
Then the account has a balance of [new-balance]

|current-balance|amount-withdrawn|new-balance|
|100|10|90|
|30|2|28|

Example: {current-balance=100, amount-withdrawn=10, new-balance=90}
Given account has balance [current-balance]
When I withdraw [amount-withdrawn]
Then the account has a balance of [new-balance]

Example: {current-balance=30, amount-withdrawn=2, new-balance=28}
Given account has balance [current-balance]
When I withdraw [amount-withdrawn]
Then the account has a balance of [new-balance]


Scenario: depositing money
Examples:
Given account has balance [current-balance]
When I deposit [amount-deposited]
Then the account has a balance of [new-balance]

|current-balance|amount-deposited|new-balance|
|100|10|110|
|30|2|32|

Example: {current-balance=100, amount-deposited=10, new-balance=110}
Given account has balance [current-balance]
When I deposit [amount-deposited]
Then the account has a balance of [new-balance]

Example: {current-balance=30, amount-deposited=2, new-balance=32}
Given account has balance [current-balance]
When I deposit [amount-deposited]
Then the account has a balance of [new-balance]


Scenario: withdrawing money exceeding the current balance
Examples:
Given account has balance [current-balance]
When I withdraw [amount-withdrawn]
Then the withdrawal is rejected

|current-balance|amount-withdrawn|
|100|101|
|30|121|

Example: {current-balance=100, amount-withdrawn=101}
Given account has balance [current-balance]
When I withdraw [amount-withdrawn]
Then the withdrawal is rejected

Example: {current-balance=30, amount-withdrawn=121}
Given account has balance [current-balance]
When I withdraw [amount-withdrawn]
Then the withdrawal is rejected



